/** Gideo v0.2.0 */
!function(){if(window._gideo=window._gideo||{},!window._gideo.included){window._gideo.included=!0;var e=function(){var e={};return e.listen=function(e,i,o){i.addEventListener?i.addEventListener(e,o,!1):i.attachEvent&&i.attachEvent("on"+e,o)},e.isVisible=function(e){var i=e.getBoundingClientRect();return i.top>-e.offsetHeight&&i.top<(window.innerHeight||document.documentElement.clientHeight)},e.injectStyles=function(e){var i=document.createElement("div");i.innerHTML="&shy;<style>"+e+"</style>",document.body.appendChild(i.childNodes[1])},e.hasClass=function(e,i){return e.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))},e.addClass=function(i,o){e.hasClass(i,o)||(i.className+=" "+o)},e.removeClass=function(i,o){if(e.hasClass(i,o)){var t=new RegExp("(\\s|^)"+o+"(\\s|$)");i.className=i.className.replace(t," ")}},e.loadScript=function(e,i){var o=document.createElement("script");o.readyState?o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onreadystatechange=null,i())}:o.onload=function(){i()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)},e.isMobile=function(){return navigator.userAgent.match(/(Android|iPod|iPhone|iPad)/)},e}();window.gideoRoot=window.gideoRoot||"//dmfrancisco.github.io/gideo/",window.gideoPolyfill=window.gideoPolyfill||window.gideoRoot+"mediaelement.min.js",window.gideoPolyfillLoaded=function(){return"undefined"!=typeof MediaElement},window.gideoMode=window.gideoMode||(e.isMobile()?"manual":"autoplayer"),window._gideo.helpers=e;var i=function(){window.setInterval(function(){for(var i,o=document.querySelectorAll(".gideo"),t=0;t<o.length;t++)if(i=o[t].player)if(e.isVisible(o[t].parentNode)){if(i.isPaused()){try{i.setCurrentTime(0)}catch(n){}i.play()}}else i.isPaused()||i.pause()},1e3),e.listen("click",document.querySelector("body"),function(e){var i,o=e.target||e.srcElement;if("gideo-mute"===o.className){if(i=o.parentNode.querySelector(".gideo").player,!i)return;i.isMuted()?(i.setCurrentTime(0),i.setMuted(!1),o.style.backgroundPosition="0 -36px"):(i.setMuted(!0),o.style.backgroundPosition="0 0")}else"gideo-replay"===o.className&&(i=o.parentNode.querySelector(".gideo").player,i&&i.setCurrentTime(0))}),e.injectStyles(" .gideo-mute, .gideo-replay { position: absolute; z-index: 2; width: 44px; height: 36px; left: 20px; background: url("+window.gideoRoot+"sprites.png); cursor: pointer } .gideo-mute { top: 20px } .gideo-replay { bottom: 20px; background-position: 0 -72px }")},o=function(){window.setInterval(function(){for(var i,o=document.querySelectorAll(".gideo"),t=0;t<o.length;t++)i=o[t].player,i&&!e.isVisible(o[t].parentNode)&&(i.pause(),e.removeClass(o[t],"gideo--playing"))},1e3),e.listen("click",document.querySelector("body"),function(i){var o,t,n=i.target||i.srcElement;"gideo-play"===n.className&&(t=n.parentNode.querySelector(".gideo"),o=t.player,o&&(o.play(),e.addClass(t,"gideo--playing")))}),e.injectStyles(" .gideo-play { position: absolute; z-index: 2; width: 68px; height: 68px; top: 50%; left: 50%; margin: -34px auto auto -34px; background: url("+window.gideoRoot+"sprites.png) -44px 0 } .gideo--playing ~ .gideo-play { display: none }")};switch(window.gideoMode){case"autoplayer":i();break;case"manual":o()}}var t=function(e){switch(window.gideoMode){case"manual":var i=document.createElement("div");i.className="gideo-play",e.parentNode.appendChild(i)}"function"==typeof window.gideoBeforeInit&&window.gideoBeforeInit(e)},n=function(e,i){switch(i&&(i.player=e),e.isMuted=e.isMuted||function(){return this.muted},e.isPaused=e.isPaused||function(){return this.paused},"undefined"!=typeof MediaElement&&e.addEventListener("ended",function(){e.setCurrentTime(0),e.play()},!1),window.gideoMode){case"autoplayer":e.setMuted(!0)}"function"==typeof window.gideoAfterInit&&window.gideoAfterInit(e,i)};window.gideoInit=window.gideoInit||function(e,i){new MediaElement(e,{success:i,pluginPath:window.gideoRoot,plugins:["flash","vimeo"]})};var d=function(){for(var e=document.querySelectorAll(".gideo"),i=0;i<e.length;i++)e[i].loading||(e[i].loading=!0,t(e[i]),window.gideoInit(e[i],n));window._gideo.state=2};window._gideo.state||window.gideoPolyfillLoaded()?2==window._gideo.state&&d():(window._gideo.state=1,window._gideo.helpers.loadScript(window.gideoPolyfill,d))}();